/* =========================================
   JUKEBOX CSS - Display-Modus Layouts
========================================= */

/* FIX: Hebt die 800px Begrenzung aus der global.css auf und blockiert Scrollen */
body {
    max-width: 100% !important; /* <--- Hier ist der Fix für die zentrierten Cover! */
    width: 100vw !important;
    padding: 0 !important; 
    margin: 0 !important;
    overflow: hidden !important; 
    height: 100vh; 
    display: flex; 
    flex-direction: column; 
    justify-content: center;
}

/* --- ORIGINAL 3D COVERFLOW --- */
#neon-coverflow { 
    display: flex; justify-content: center; align-items: center; 
    perspective: 1200px; width: 100%; min-height: 550px; 
    margin-top: -40px; 
}

.cover-side { display: flex; position: relative; width: 200px; height: 200px; transform-style: preserve-3d; }
.left-covers { transform: rotateY(40deg); margin-right: -80px; }
.right-covers { transform: rotateY(-40deg); margin-left: -80px; }

.cover-side img { position: absolute; width: 180px; height: 180px; object-fit: cover; border: 2px solid #ffd700; box-shadow: 0 0 15px #ffd700; opacity: 0.6; }

.left-covers img:nth-child(3) { transform: translateZ(-100px) translateX(-100px); opacity: 0.2; }
.left-covers img:nth-child(2) { transform: translateZ(-50px) translateX(-50px); opacity: 0.5; }
.left-covers img:nth-child(1) { transform: translateZ(0) translateX(0); opacity: 0.8; }

.right-covers img:nth-child(1) { transform: translateZ(0) translateX(0); opacity: 0.8; }
.right-covers img:nth-child(2) { transform: translateZ(-50px) translateX(50px); opacity: 0.5; }
.right-covers img:nth-child(3) { transform: translateZ(-100px) translateX(100px); opacity: 0.2; }

/* --- DER TRICK: Feste Höhe --- */
.cover-center { 
    z-index: 10; text-align: center; width: 350px; 
    height: 350px; 
    transform: translateZ(50px); 
}

.cover-center img { 
    width: 350px; height: 350px; object-fit: cover; border-radius: 4px; border: 3px solid #ff8c00; 
    box-shadow: 0 0 30px #ff8c00, 0 0 60px rgba(255,140,0,0.5); margin-bottom: 15px; background: #111; 
}
#neon-title { 
    font-size: 24px; 
    font-weight: bold; 
    color: #fff; 
    text-shadow: 0 0 10px #ff8c00, 0 0 20px #ff8c00; 
    margin-bottom: 5px; 
    line-height: 1.2; 
    display: -webkit-box; 
    -webkit-line-clamp: 2; 
    line-clamp: 2;
    -webkit-box-orient: vertical; 
    overflow: hidden; 
}
#neon-artist { 
    font-size: 18px; 
    color: #ffd700; 
    text-shadow: 0 0 8px #ffd700; 
    display: block;
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
    width: 100%;
}
#neon-fallback-label { display: none; color: #ff8c00; font-size: 14px; text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 0 5px #ff8c00; margin-bottom: 2px; }

#waiting-msg { color: #ff8c00; font-size: 20px; text-align: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-shadow: 0 0 10px #ff8c00; }

/* --- Auto-Skalierung --- */
@media (max-height: 800px) {
    #neon-coverflow { transform: scale(0.85); margin-top: -60px; }
    #guest-search-container { bottom: 15px !important; }
}
@media (max-height: 650px) {
    #neon-coverflow { transform: scale(0.7); margin-top: -80px; }
}

/* --- Audio Visualizer --- */
@keyframes pulse-beat {
    0% { box-shadow: 0 0 30px #ff8c00, 0 0 60px rgba(255,140,0,0.5); transform: scale(1); }
    50% { box-shadow: 0 0 35px #ff8c00, 0 0 75px rgba(255,140,0,0.65); transform: scale(1.01); }
    100% { box-shadow: 0 0 30px #ff8c00, 0 0 60px rgba(255,140,0,0.5); transform: scale(1); }
}
.visualizer-pulse { animation: pulse-beat 1s infinite; }

/* Scrollbar Styling */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #ff8c00; border-radius: 4px; }


/* =========================================
   STYLE-ANPASSUNGEN (Analog zur Host-Seite)
========================================= */

/* Sidebar Design anpassen */
#jukebox-sidebar {
    background: rgba(20, 10, 0, 0.85) !important; 
    border: 1px solid var(--accent) !important;
    box-shadow: 0 0 15px rgba(255, 140, 0, 0.2) !important;
}

/* Überschriften überschreiben */
#jukebox-sidebar h3, #jukebox-sidebar h4 {
    color: var(--accent) !important;
    text-shadow: none !important;
    text-align: left;
    margin-top: 0;
}

/* Genre Überschrift in der Jukebox Sidebar */
.genre-block-header { 
    background: rgba(255, 140, 0, 0.15); 
    padding: 8px 12px; 
    border-radius: 8px; 
    margin: 15px 0 5px 0; 
    color: #ffd700; 
    font-weight: bold; 
    font-size: 14px;
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    border: 1px solid var(--accent);
    border-left: 5px solid var(--accent);
    text-transform: uppercase;
}

/* Listen und Items für die Jukebox Sidebar */
#display-queue-list {
    text-align: left;
}

.queue-item { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    background: rgba(20, 10, 0, 0.85); 
    border: 1px solid var(--accent); 
    border-radius: 12px; 
    padding: 10px 12px; 
    margin-top: 8px; 
    text-align: left; 
    box-shadow: 0 0 5px var(--accent);
    font-size: 14px;
}

/* Gast Suche Container in der Jukebox zentrieren */
#guest-search-container {
    left: 50%;
    transform: translateX(-50%);
}

/* FIX: Suche und Button auf exakt die gleiche Höhe zwingen */
#guest-search-container > div {
    align-items: stretch !important; 
}

#guest-search-input {
    margin-bottom: 0 !important; 
}

/* Gast Button in Suchleiste */
#guest-search-container button {
    border-radius: 30px;
    padding: 0 25px !important;
    margin: 0 !important;
    height: auto !important; 
}

/* Gast Suche Results Layout */
.result-item {
    display: flex; align-items: center; background: rgba(20, 10, 0, 0.85); 
    border: 1px solid var(--accent); border-radius: 12px; padding: 10px; margin: 10px; 
    text-align: left; cursor: pointer; box-shadow: 0 0 5px var(--accent);
}
.result-item img { width: 50px; height: 50px; border-radius: 6px; margin-right: 15px; border: 1px solid var(--accent); }
.result-text-container { flex: 1; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding-right: 15px; }
.add-btn-container { font-size: 24px; text-align: right; min-width: 30px; }
.result-title { color: #ffd700; font-weight: bold; font-size: 14px; }
.result-artist { color: var(--accent); font-size: 12px; }

/* Buttons in der Suchergebnisliste (Gast) */
.result-item button {
   border: none !important;
   background: transparent !important;
   box-shadow: none !important;
}

/* FIX: QR Code Container Styling bereinigen */
#qr-container {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
}